{"version":3,"file":"key-function.js","sources":["../../../../../../node_modules/arquero/src/util/key-function.js"],"sourcesContent":["import isArray from './is-array';\nimport isDate from './is-date';\nimport isRegExp from './is-regexp';\nimport isTypedArray from './is-typed-array';\n\nexport function key(value) {\n  const type = typeof value;\n  return type === 'string' ? `\"${value}\"`\n    : type !== 'object' || !value ? value\n    : isDate(value) ? +value\n    : isArray(value) || isTypedArray(value) ? `[${value.map(key)}]`\n    : isRegExp(value) ? value + ''\n    : objectKey(value);\n}\n\nfunction objectKey(value) {\n  let s = '{';\n  let i = -1;\n  for (const k in value) {\n    if (++i > 0) s += ',';\n    s += `\"${k}\":${key(value[k])}`;\n  }\n  s += '}';\n  return s;\n}\n\nexport default function(get, nulls) {\n  const n = get.length;\n  return n === 1\n    ? (row, data) => key(get[0](row, data))\n    : (row, data) => {\n        let s = '';\n        for (let i = 0; i < n; ++i) {\n          if (i > 0) s += '|';\n          const v = get[i](row, data);\n          if (nulls && (v == null || v !== v)) return null;\n          s += key(v);\n        }\n        return s;\n      };\n}"],"names":[],"mappings":";;;;;;;;;;;AAKO,SAAS,GAAG,CAAC,KAAK,EAAE;AAC3B,EAAE,MAAM,IAAI,GAAG,OAAO,KAAK,CAAC;AAC5B,EAAE,OAAO,IAAI,KAAK,QAAQ,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;AACzC,MAAM,IAAI,KAAK,QAAQ,IAAI,CAAC,KAAK,GAAG,KAAK;AACzC,MAAM,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK;AAC5B,MAAM,OAAO,CAAC,KAAK,CAAC,IAAI,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACnE,MAAM,QAAQ,CAAC,KAAK,CAAC,GAAG,KAAK,GAAG,EAAE;AAClC,MAAM,SAAS,CAAC,KAAK,CAAC,CAAC;AACvB,CAAC;AACD;AACA,SAAS,SAAS,CAAC,KAAK,EAAE;AAC1B,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC;AACd,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;AACb,EAAE,KAAK,MAAM,CAAC,IAAI,KAAK,EAAE;AACzB,IAAI,IAAI,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,GAAG,CAAC;AAC1B,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnC,GAAG;AACH,EAAE,CAAC,IAAI,GAAG,CAAC;AACX,EAAE,OAAO,CAAC,CAAC;AACX,CAAC;AACD;AACe,oBAAQ,CAAC,GAAG,EAAE,KAAK,EAAE;AACpC,EAAE,MAAM,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC;AACvB,EAAE,OAAO,CAAC,KAAK,CAAC;AAChB,MAAM,CAAC,GAAG,EAAE,IAAI,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;AAC3C,MAAM,CAAC,GAAG,EAAE,IAAI,KAAK;AACrB,QAAQ,IAAI,CAAC,GAAG,EAAE,CAAC;AACnB,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;AACpC,UAAU,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,GAAG,CAAC;AAC9B,UAAU,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;AACtC,UAAU,IAAI,KAAK,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,IAAI,CAAC;AAC3D,UAAU,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;AACtB,SAAS;AACT,QAAQ,OAAO,CAAC,CAAC;AACjB,OAAO,CAAC;AACR;;;;","x_google_ignoreList":[0]}
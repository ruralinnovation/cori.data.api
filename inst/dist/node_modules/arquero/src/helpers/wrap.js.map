{"version":3,"file":"wrap.js","sources":["../../../../../../node_modules/arquero/src/helpers/wrap.js"],"sourcesContent":["import isFunction from '../util/is-function';\n\n/**\n * Annotate an expression in an object wrapper.\n * @param {string|Function|object} expr An expression to annotate.\n * @param {object} properties The properties to annotate with.\n * @return {object} A new wrapped expression object.\n */\nexport default function(expr, properties) {\n  return expr && expr.expr\n    ? new Wrapper({ ...expr, ...properties })\n    : new Wrapper(properties, expr);\n}\n\nclass Wrapper {\n  constructor(properties, expr) {\n    this.expr = expr;\n    Object.assign(this, properties);\n  }\n  toString() {\n    return String(this.expr);\n  }\n  toObject() {\n    return {\n      ...this,\n      expr: this.toString(),\n      ...(isFunction(this.expr) ? { func: true } : {})\n    };\n  }\n}"],"names":[],"mappings":";;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACe,aAAQ,CAAC,IAAI,EAAE,UAAU,EAAE;AAC1C,EAAE,OAAO,IAAI,IAAI,IAAI,CAAC,IAAI;AAC1B,MAAM,IAAI,OAAO,CAAC,EAAE,GAAG,IAAI,EAAE,GAAG,UAAU,EAAE,CAAC;AAC7C,MAAM,IAAI,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AACpC,CAAC;AACD;AACA,MAAM,OAAO,CAAC;AACd,EAAE,WAAW,CAAC,UAAU,EAAE,IAAI,EAAE;AAChC,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACrB,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;AACpC,GAAG;AACH,EAAE,QAAQ,GAAG;AACb,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC7B,GAAG;AACH,EAAE,QAAQ,GAAG;AACb,IAAI,OAAO;AACX,MAAM,GAAG,IAAI;AACb,MAAM,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE;AAC3B,MAAM,IAAI,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE;AACrD,KAAK,CAAC;AACN,GAAG;AACH;;;;","x_google_ignoreList":[0]}
{"version":3,"file":"HoverInfo.js","sources":["../../../../lib/@cori-risi/components/HoverInfo.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { ReactElement } from \"react\";\n// import { format } from 'd3-format';\n\n// import\"./styles/HoverInfo.module.css\";           // <= DO THIS FIRST...\nimport style from \"./styles/HoverInfo.module.css\";  // <= THEN THIS..\n\n\nexport interface HoverObject {\n    x: number;\n    y: number;\n    [key: number | string]: any;\n}\n\n/**\n * This is a prototype generalization of the HoverInfo component used in the\n * [Who Wins B2S app](https://github.com/ruralinnovation/who-wins-b2s/tree/main/src/components){target=_blank}\n *\n * ```ts\n * import { HoverInfo } from '@cori-risi/cori.data.api';\n *\n * import \"@cori-risi/cori.data.api/inst/dist/cori.data.api.css\";\n *\n * // ...\n *\n * const [ hoverInfo, setHoverInfo ] = useState<HoverObject | null>(null);\n *\n * // ...\n *\n * <HoverInfo hoverInfo={hoverInfo}>\n *     <h3>{ hoverInfo.name }</h3>\n *     <p className={style['details']}>...</p>\n * </HoverInfo>\n * ```\n *\n *  @param props.hoverInfo - an object that should, at minimum, contain x and y values (screen coordinates in pixels); \"name\" is also a userful prop\n *  @param props.xOffset - the HoverInfo box will be rendered at this offset from the event's x coordinate\n *  @param props.yOffset - the HoverInfo box will be rendered at this offset from the event's y coordinate\n */\nexport default function HoverInfo (props: {\n    children?: ReactElement<any, any> | ReactElement<any, any>[],\n    hoverInfo: HoverObject,\n    xOffset?: number,\n    yOffset?: number,\n    zIndex?: number\n}) {\n    const { hoverInfo, xOffset, yOffset } = props;\n\n    return (!!hoverInfo) ? (\n        <div className={style[\"tooltip\"]}\n             style={{\n                 left: hoverInfo.x + (xOffset || 0),\n                 top: hoverInfo.y + (yOffset || 0),\n                 position: \"fixed\",\n                 minWidth: \"320px\",\n                 minHeight: \"240px\",\n                 zIndex: props.zIndex || 3\n\n             }}>\n            {props.children}\n            {/*<h3>{ hoverInfo.name }</h3>*/}\n            {/*<p className={style['prop-score']}>*/}\n            {/*    Propensity score: {hoverInfo.prop_score*100 < 1? \"<1\": format(\".2\")(hoverInfo.prop_score * 100)} | Matching: {hoverInfo.prop_score_knearest_match? \"Yes\": \"No\"}<br/>*/}\n            {/*</p>*/}\n            {/*<hr></hr>*/}\n            {/*<p className={style['details']}>*/}\n            {/*    B2S winner: {hoverInfo.b2s_flag? \"Yes\": \"No\"}<br/>*/}\n            {/*    Population: {format(\",\")(hoverInfo.pop)}<br/>*/}\n            {/*    Percent employed: {format(\".0%\")(hoverInfo.pct_prime_emp)}<br/>*/}\n            {/*    Tech share: {format(\".0%\")(hoverInfo.tech_share)}*/}\n            {/*</p>*/}\n        </div>\n    ) : <></>;\n}"],"names":[],"mappings":";;;;;;;;;AAcA;;;;;;;;;;;;;;;;;;;;;;;;AAwBG;AACqB,SAAA,SAAS,CAAE,KAMlC,EAAA;IACG,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,KAAK,CAAC;AAE9C,IAAA,OAAO,CAAC,CAAC,CAAC,SAAS,KACf,KAAK,CAAA,aAAA,CAAA,KAAA,EAAA,EAAA,SAAS,EAAE,KAAK,CAAC,SAAS,CAAC,EAC3B,KAAK,EAAE;YACH,IAAI,EAAE,SAAS,CAAC,CAAC,IAAI,OAAO,IAAI,CAAC,CAAC;YAClC,GAAG,EAAE,SAAS,CAAC,CAAC,IAAI,OAAO,IAAI,CAAC,CAAC;AACjC,YAAA,QAAQ,EAAE,OAAO;AACjB,YAAA,QAAQ,EAAE,OAAO;AACjB,YAAA,SAAS,EAAE,OAAO;AAClB,YAAA,MAAM,EAAE,KAAK,CAAC,MAAM,IAAI,CAAC;SAE5B,EACD,EAAA,KAAK,CAAC,QAAQ,CAYb,IACN,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,CAAK,CAAC;AACd;;;;"}
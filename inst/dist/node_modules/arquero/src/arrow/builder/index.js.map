{"version":3,"file":"index.js","sources":["../../../../../../../node_modules/arquero/src/arrow/builder/index.js"],"sourcesContent":["import { Type } from 'apache-arrow';\nimport arrayBuilder from './array-builder';\nimport boolBuilder from './bool-builder';\nimport dateDayBuilder from './date-day-builder';\nimport dateMillisBuilder from './date-millis-builder';\nimport defaultBuilder from './default-builder';\nimport dictionaryBuilder from './dictionary-builder';\nimport validBuilder from './valid-builder';\n\nexport default function(type, nrows, nullable = true) {\n  let method;\n\n  switch (type.typeId) {\n    case Type.Int:\n      method = type.bitWidth < 64 ? arrayBuilder : null;\n      break;\n    case Type.Float:\n      method = type.precision > 0 ? arrayBuilder : null;\n      break;\n    case Type.Dictionary:\n      // check sub-types against builder assumptions\n      // if check fails, fallback to default builder\n      method = (\n        type.dictionary.typeId === Type.Utf8 &&\n        type.indices.typeId === Type.Int &&\n        type.indices.bitWidth < 64\n      ) ? dictionaryBuilder : null;\n      break;\n    case Type.Bool:\n      method = boolBuilder;\n      break;\n    case Type.Date:\n      method = type.unit ? dateMillisBuilder : dateDayBuilder;\n      break;\n  }\n\n  return method == null ? defaultBuilder(type)\n    : nullable ? validBuilder(method(type, nrows), nrows)\n    : method(type, nrows);\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;AASe,gBAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,QAAQ,GAAG,IAAI,EAAE;AACtD,EAAE,IAAI,MAAM,CAAC;AACb;AACA,EAAE,QAAQ,IAAI,CAAC,MAAM;AACrB,IAAI,KAAK,IAAI,CAAC,GAAG;AACjB,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,GAAG,EAAE,GAAG,YAAY,GAAG,IAAI,CAAC;AACxD,MAAM,MAAM;AACZ,IAAI,KAAK,IAAI,CAAC,KAAK;AACnB,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,GAAG,CAAC,GAAG,YAAY,GAAG,IAAI,CAAC;AACxD,MAAM,MAAM;AACZ,IAAI,KAAK,IAAI,CAAC,UAAU;AACxB;AACA;AACA,MAAM,MAAM,GAAG;AACf,QAAQ,IAAI,CAAC,UAAU,CAAC,MAAM,KAAK,IAAI,CAAC,IAAI;AAC5C,QAAQ,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,IAAI,CAAC,GAAG;AACxC,QAAQ,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,EAAE;AAClC,UAAU,iBAAiB,GAAG,IAAI,CAAC;AACnC,MAAM,MAAM;AACZ,IAAI,KAAK,IAAI,CAAC,IAAI;AAClB,MAAM,MAAM,GAAG,WAAW,CAAC;AAC3B,MAAM,MAAM;AACZ,IAAI,KAAK,IAAI,CAAC,IAAI;AAClB,MAAM,MAAM,GAAG,IAAI,CAAC,IAAI,GAAG,iBAAiB,GAAG,cAAc,CAAC;AAC9D,MAAM,MAAM;AACZ,GAAG;AACH;AACA,EAAE,OAAO,MAAM,IAAI,IAAI,GAAG,cAAc,CAAC,IAAI,CAAC;AAC9C,MAAM,QAAQ,GAAG,YAAY,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC;AACzD,MAAM,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;AAC1B;;;;","x_google_ignoreList":[0]}
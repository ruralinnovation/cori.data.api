{"version":3,"file":"cori.data.api440.js","sources":["../../node_modules/arquero/src/verbs/sample.js"],"sourcesContent":["import _derive from '../engine/derive';\nimport _rollup from '../engine/rollup';\nimport _sample from '../engine/sample';\nimport parse from '../expression/parse';\nimport isNumber from '../util/is-number';\nimport isString from '../util/is-string';\n\nexport default function(table, size, options = {}) {\n  return _sample(\n    table,\n    parseSize(table, size),\n    parseWeight(table, options.weight),\n    options\n  );\n}\n\nconst get = col => row => col.get(row) || 0;\n\nfunction parseSize(table, size) {\n  return isNumber(size)\n    ? () => size\n    : get(_rollup(table, parse({ size }, { table, window: false })).column('size'));\n}\n\nfunction parseWeight(table, w) {\n  if (w == null) return null;\n  w = isNumber(w) ? table.columnName(w) : w;\n  return get(\n    isString(w)\n      ? table.column(w)\n      : _derive(table, parse({ w }, { table }), { drop: true }).column('w')\n  );\n}"],"names":["__sample","table","size","options","_sample","parseSize","parseWeight","get","col","row","isNumber","_rollup","parse","w","isString","_derive"],"mappings":";;;;;;;;;;;;AAOe,SAAQA,EAACC,GAAOC,GAAMC,IAAU,IAAI;AACjD,SAAOC;AAAA,IACLH;AAAA,IACAI,EAAUJ,GAAOC,CAAI;AAAA,IACrBI,EAAYL,GAAOE,EAAQ,MAAM;AAAA,IACjCA;AAAA,EACJ;AACA;AAEA,MAAMI,IAAM,CAAAC,MAAO,CAAAC,MAAOD,EAAI,IAAIC,CAAG,KAAK;AAE1C,SAASJ,EAAUJ,GAAOC,GAAM;AAC9B,SAAOQ,EAASR,CAAI,IAChB,MAAMA,IACNK,EAAII,EAAQV,GAAOW,EAAM,EAAE,MAAAV,EAAI,GAAI,EAAE,OAAAD,GAAO,QAAQ,GAAK,CAAE,CAAC,EAAE,OAAO,MAAM,CAAC;AAClF;AAEA,SAASK,EAAYL,GAAOY,GAAG;AAC7B,SAAIA,KAAK,OAAa,QACtBA,IAAIH,EAASG,CAAC,IAAIZ,EAAM,WAAWY,CAAC,IAAIA,GACjCN;AAAA,IACLO,EAASD,CAAC,IACNZ,EAAM,OAAOY,CAAC,IACdE,EAAQd,GAAOW,EAAM,EAAE,GAAAC,EAAG,GAAE,EAAE,OAAAZ,GAAO,GAAG,EAAE,MAAM,GAAM,CAAA,EAAE,OAAO,GAAG;AAAA,EAC1E;AACA;","x_google_ignoreList":[0]}
{"version":3,"file":"cori.data.api482.js","sources":["../../node_modules/arquero/src/format/infer.js"],"sourcesContent":["import isDate from '../util/is-date';\n\nfunction isExactDateUTC(d) {\n  return d.getUTCHours() === 0\n    && d.getUTCMinutes() === 0\n    && d.getUTCSeconds() === 0\n    && d.getUTCMilliseconds() === 0;\n}\n\nexport default function(scan, options = {}) {\n  let count = 0;\n  let nulls = 0;\n  let dates = 0;\n  let dutcs = 0;\n  let nums = 0;\n  let digits = 0;\n\n  scan(value => {\n    ++count;\n    if (value == null) {\n      ++nulls;\n      return;\n    }\n\n    const type = typeof value;\n    if (type === 'object' && isDate(value)) {\n      ++dates;\n      if (isExactDateUTC(value)) ++dutcs;\n    } else if (type === 'number') {\n      ++nums;\n      if (value === value &&  (value | 0) !== value) {\n        const s = value + '';\n        const p = s.indexOf('.');\n        if (p >= 0) {\n          const e = s.indexOf('e');\n          const l = e > 0 ? e : s.length;\n          digits = Math.max(digits, l - p - 1);\n        }\n      }\n    }\n  });\n\n  return {\n    align:  (nulls + nums + dates) / count > 0.5 ? 'r' : 'l',\n    format: {\n      utc:    dates === dutcs,\n      digits: Math.min(digits, options.maxdigits || 6)\n    }\n  };\n}"],"names":["isExactDateUTC","d","inferFormat","scan","options","count","nulls","dates","dutcs","nums","digits","value","type","isDate","p","e","l"],"mappings":";;;;;;;AAEA,SAASA,EAAeC,GAAG;AACzB,SAAOA,EAAE,YAAW,MAAO,KACtBA,EAAE,cAAa,MAAO,KACtBA,EAAE,cAAa,MAAO,KACtBA,EAAE,mBAAoB,MAAK;AAClC;AAEe,SAAAC,EAASC,GAAMC,IAAU,IAAI;AAC1C,MAAIC,IAAQ,GACRC,IAAQ,GACRC,IAAQ,GACRC,IAAQ,GACRC,IAAO,GACPC,IAAS;AAEb,SAAAP,EAAK,CAAAQ,MAAS;AAEZ,QADA,EAAEN,GACEM,KAAS,MAAM;AACjB,QAAEL;AACF;AAAA,IACD;AAED,UAAMM,IAAO,OAAOD;AACpB,QAAIC,MAAS,YAAYC,EAAOF,CAAK;AACnC,QAAEJ,GACEP,EAAeW,CAAK,KAAG,EAAEH;AAAA,aACpBI,MAAS,aAClB,EAAEH,GACEE,MAAUA,MAAWA,IAAQ,OAAOA,IAAO;AAC7C,YAAM,IAAIA,IAAQ,IACZG,IAAI,EAAE,QAAQ,GAAG;AACvB,UAAIA,KAAK,GAAG;AACV,cAAMC,IAAI,EAAE,QAAQ,GAAG,GACjBC,IAAID,IAAI,IAAIA,IAAI,EAAE;AACxB,QAAAL,IAAS,KAAK,IAAIA,GAAQM,IAAIF,IAAI,CAAC;AAAA,MACpC;AAAA,IACF;AAAA,EAEP,CAAG,GAEM;AAAA,IACL,QAASR,IAAQG,IAAOF,KAASF,IAAQ,MAAM,MAAM;AAAA,IACrD,QAAQ;AAAA,MACN,KAAQE,MAAUC;AAAA,MAClB,QAAQ,KAAK,IAAIE,GAAQN,EAAQ,aAAa,CAAC;AAAA,IAChD;AAAA,EACL;AACA;","x_google_ignoreList":[0]}
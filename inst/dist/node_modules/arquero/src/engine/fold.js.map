{"version":3,"file":"fold.js","sources":["../../../../../../node_modules/arquero/src/engine/fold.js"],"sourcesContent":["import unroll from './unroll';\nimport { aggregateGet } from './reduce/util';\n\nexport default function(table, { names = [], exprs = [], ops = [] }, options = {}) {\n  if (names.length === 0) return table;\n\n  const [k = 'key', v = 'value'] = options.as || [];\n  const vals = aggregateGet(table, ops, exprs);\n\n  return unroll(\n    table,\n    {\n      names: [k, v],\n      exprs: [() => names, (row, data) => vals.map(fn => fn(row, data))]\n    },\n    { ...options, drop: names }\n  );\n}"],"names":["unroll"],"mappings":";;;;;;;;;AAGe,cAAQ,CAAC,KAAK,EAAE,EAAE,KAAK,GAAG,EAAE,EAAE,KAAK,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,OAAO,GAAG,EAAE,EAAE;AACnF,EAAE,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE,OAAO,KAAK,CAAC;AACvC;AACA,EAAE,MAAM,CAAC,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,OAAO,CAAC,GAAG,OAAO,CAAC,EAAE,IAAI,EAAE,CAAC;AACpD,EAAE,MAAM,IAAI,GAAG,YAAY,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;AAC/C;AACA,EAAE,OAAOA,OAAM;AACf,IAAI,KAAK;AACT,IAAI;AACJ,MAAM,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;AACnB,MAAM,KAAK,EAAE,CAAC,MAAM,KAAK,EAAE,CAAC,GAAG,EAAE,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;AACxE,KAAK;AACL,IAAI,EAAE,GAAG,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE;AAC/B,GAAG,CAAC;AACJ;;;;","x_google_ignoreList":[0]}
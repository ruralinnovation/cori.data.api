{"version":3,"file":"index9.js","sources":["../../lib/@cori-risi/utils/PM.ts"],"sourcesContent":["import fetch, { Request, RequestInfo, Response } from \"node-fetch\";\n\n/**\n * Postman environment emulator to facilitate authenticate with the CORI Data API\n * in anon-browser runtime environment (like the [Postman API client](https://www.postman.com/product/api-client/){.external target=\"_blank\"}\n */\nexport default class PM {\n\n  public environment: any;\n\n  constructor(clientId: string, username: string, password: string) {\n    this.environment = {\n      cognitoClientId: clientId,\n      cognitoUserName: username,\n      cognitoUserPassword: password,\n      get: function(key: string | number) {\n        console.log(key);\n        return this[key];\n      },\n      set: function(key: string | number, value: any) {\n        console.log(key, value);\n        this[key] = value;\n      }\n    };\n  }\n\n  async sendRequest(\n    request: {\n      url: RequestInfo;\n      method: any;\n      body: {\n        mode?: string,\n        options?: any,\n        raw: any;\n      };\n      header: any;\n    },\n    callback: (arg0: null, arg1: any) => any\n  ) {\n\n    const response = await fetch(request.url, {\n      method: request.method,\n      body: request.body.raw,\n      headers: request.header\n    });\n\n    response.json().then(data => callback(null, data));\n\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;AAEA;;;AAGG;AACW,MAAO,EAAE,CAAA;AAIrB,IAAA,WAAA,CAAY,QAAgB,EAAE,QAAgB,EAAE,QAAgB,EAAA;QAC9D,IAAI,CAAC,WAAW,GAAG;AACjB,YAAA,eAAe,EAAE,QAAQ;AACzB,YAAA,eAAe,EAAE,QAAQ;AACzB,YAAA,mBAAmB,EAAE,QAAQ;YAC7B,GAAG,EAAE,UAAS,GAAoB,EAAA;AAChC,gBAAA,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACjB,gBAAA,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;aAClB;AACD,YAAA,GAAG,EAAE,UAAS,GAAoB,EAAE,KAAU,EAAA;AAC5C,gBAAA,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;AACxB,gBAAA,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;aACnB;SACF,CAAC;KACH;IAEK,WAAW,CACf,OASC,EACD,QAAwC,EAAA;;YAGxC,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE;gBACxC,MAAM,EAAE,OAAO,CAAC,MAAM;AACtB,gBAAA,IAAI,EAAE,OAAO,CAAC,IAAI,CAAC,GAAG;gBACtB,OAAO,EAAE,OAAO,CAAC,MAAM;AACxB,aAAA,CAAC,CAAC;AAEH,YAAA,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,IAAI,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;SAEpD,CAAA,CAAA;AAAA,KAAA;AACF;;;;"}
{"version":3,"file":"cori.data.api425.js","sources":["../../node_modules/arquero/src/util/bins.js"],"sourcesContent":["export default function(min, max, maxbins = 15, nice = true, minstep = 0, step) {\n  const base = 10;\n  const logb = Math.LN10;\n\n  if (step == null) {\n    const level = Math.ceil(Math.log(maxbins) / logb);\n    const span = (max - min) || Math.abs(min) || 1;\n    const div = [5, 2];\n\n    step = Math.max(\n      minstep,\n      Math.pow(base, Math.round(Math.log(span) / logb) - level)\n    );\n\n    // increase step size if too many bins\n    while (Math.ceil(span / step) > maxbins) {\n      step *= base;\n    }\n\n    // decrease step size if it stays within maxbins\n    const n = div.length;\n    for (let i = 0; i < n; ++i) {\n      const v = step / div[i];\n      if (v >= minstep && span / v <= maxbins) {\n        step = v;\n      }\n    }\n  }\n\n  // snap to \"nice\" boundaries\n  if (nice) {\n    let v = Math.log(step);\n    const precision = v >= 0 ? 0 : ~~(-v / logb) + 1;\n    const eps = Math.pow(base, -precision - 1);\n    v = Math.floor(min / step + eps) * step;\n    min = min < v ? v - step : v;\n    max = Math.ceil(max / step) * step;\n  }\n\n  return [\n    min,\n    max === min ? min + step : max,\n    step\n  ];\n}"],"names":["bins","min","max","maxbins","nice","minstep","step","logb","level","span","div","n","i","v","precision","eps"],"mappings":";;;;;;AAAe,SAAAA,EAASC,GAAKC,GAAKC,IAAU,IAAIC,IAAO,IAAMC,IAAU,GAAGC,GAAM;AAE9E,QAAMC,IAAO,KAAK;AAElB,MAAID,KAAQ,MAAM;AAChB,UAAME,IAAQ,KAAK,KAAK,KAAK,IAAIL,CAAO,IAAII,CAAI,GAC1CE,IAAQP,IAAMD,KAAQ,KAAK,IAAIA,CAAG,KAAK,GACvCS,IAAM,CAAC,GAAG,CAAC;AAQjB,SANAJ,IAAO,KAAK;AAAA,MACVD;AAAA,MACA,KAAK,IAAI,IAAM,KAAK,MAAM,KAAK,IAAII,CAAI,IAAIF,CAAI,IAAIC,CAAK;AAAA,IAC9D,GAGW,KAAK,KAAKC,IAAOH,CAAI,IAAIH;AAC9B,MAAAG,KAAQ;AAIV,UAAMK,IAAID,EAAI;AACd,aAASE,IAAI,GAAGA,IAAID,GAAG,EAAEC,GAAG;AAC1B,YAAMC,IAAIP,IAAOI,EAAIE,CAAC;AACtB,MAAIC,KAAKR,KAAWI,IAAOI,KAAKV,MAC9BG,IAAOO;AAAA,IAEV;AAAA,EACF;AAGD,MAAIT,GAAM;AACR,QAAIS,IAAI,KAAK,IAAIP,CAAI;AACrB,UAAMQ,IAAYD,KAAK,IAAI,IAAI,CAAC,EAAE,CAACA,IAAIN,KAAQ,GACzCQ,IAAM,KAAK,IAAI,IAAM,CAACD,IAAY,CAAC;AACzC,IAAAD,IAAI,KAAK,MAAMZ,IAAMK,IAAOS,CAAG,IAAIT,GACnCL,IAAMA,IAAMY,IAAIA,IAAIP,IAAOO,GAC3BX,IAAM,KAAK,KAAKA,IAAMI,CAAI,IAAIA;AAAA,EAC/B;AAED,SAAO;AAAA,IACLL;AAAA,IACAC,MAAQD,IAAMA,IAAMK,IAAOJ;AAAA,IAC3BI;AAAA,EACJ;AACA;","x_google_ignoreList":[0]}
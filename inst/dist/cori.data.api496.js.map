{"version":3,"file":"cori.data.api496.js","sources":["../../node_modules/arquero/src/arrow/builder/index.js"],"sourcesContent":["import { Type } from 'apache-arrow';\nimport arrayBuilder from './array-builder';\nimport boolBuilder from './bool-builder';\nimport dateDayBuilder from './date-day-builder';\nimport dateMillisBuilder from './date-millis-builder';\nimport defaultBuilder from './default-builder';\nimport dictionaryBuilder from './dictionary-builder';\nimport validBuilder from './valid-builder';\n\nexport default function(type, nrows, nullable = true) {\n  let method;\n\n  switch (type.typeId) {\n    case Type.Int:\n      method = type.bitWidth < 64 ? arrayBuilder : null;\n      break;\n    case Type.Float:\n      method = type.precision > 0 ? arrayBuilder : null;\n      break;\n    case Type.Dictionary:\n      // check sub-types against builder assumptions\n      // if check fails, fallback to default builder\n      method = (\n        type.dictionary.typeId === Type.Utf8 &&\n        type.indices.typeId === Type.Int &&\n        type.indices.bitWidth < 64\n      ) ? dictionaryBuilder : null;\n      break;\n    case Type.Bool:\n      method = boolBuilder;\n      break;\n    case Type.Date:\n      method = type.unit ? dateMillisBuilder : dateDayBuilder;\n      break;\n  }\n\n  return method == null ? defaultBuilder(type)\n    : nullable ? validBuilder(method(type, nrows), nrows)\n    : method(type, nrows);\n}"],"names":["builder","type","nrows","nullable","method","Type","arrayBuilder","dictionaryBuilder","boolBuilder","dateMillisBuilder","dateDayBuilder","defaultBuilder","validBuilder"],"mappings":";;;;;;;;;;;;;;AASe,SAAQA,EAACC,GAAMC,GAAOC,IAAW,IAAM;AACpD,MAAIC;AAEJ,UAAQH,EAAK,QAAM;AAAA,IACjB,KAAKI,EAAK;AACR,MAAAD,IAASH,EAAK,WAAW,KAAKK,IAAe;AAC7C;AAAA,IACF,KAAKD,EAAK;AACR,MAAAD,IAASH,EAAK,YAAY,IAAIK,IAAe;AAC7C;AAAA,IACF,KAAKD,EAAK;AAGR,MAAAD,IACEH,EAAK,WAAW,WAAWI,EAAK,QAChCJ,EAAK,QAAQ,WAAWI,EAAK,OAC7BJ,EAAK,QAAQ,WAAW,KACtBM,IAAoB;AACxB;AAAA,IACF,KAAKF,EAAK;AACR,MAAAD,IAASI;AACT;AAAA,IACF,KAAKH,EAAK;AACR,MAAAD,IAASH,EAAK,OAAOQ,IAAoBC;AACzC;AAAA,EACH;AAED,SAAON,KAAU,OAAOO,EAAeV,CAAI,IACvCE,IAAWS,EAAaR,EAAOH,GAAMC,CAAK,GAAGA,CAAK,IAClDE,EAAOH,GAAMC,CAAK;AACxB;","x_google_ignoreList":[0]}
{"version":3,"file":"scan.js","sources":["../../../../../../../node_modules/arquero/src/arrow/encode/scan.js"],"sourcesContent":["import isArrayType from '../../util/is-array-type';\n\nexport function scanArray(data, limit, offset) {\n  const n = Math.min(data.length, offset + limit);\n  return (name, visit) => {\n    for (let i = offset; i < n; ++i) {\n      visit(data[i][name], i);\n    }\n  };\n}\n\nexport function scanTable(table, limit, offset) {\n  const scanAll = offset === 0 && table.numRows() <= limit\n               && !table.isFiltered() && !table.isOrdered();\n\n  return (column, visit) => {\n    let i = -1;\n    scanAll && isArrayType(column.data)\n      ? column.data.forEach(visit)\n      : table.scan(\n          row => visit(column.get(row), ++i),\n          true, limit, offset\n        );\n  };\n}"],"names":[],"mappings":";;;;;;;;AAEO,SAAS,SAAS,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE;AAC/C,EAAE,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,GAAG,KAAK,CAAC,CAAC;AAClD,EAAE,OAAO,CAAC,IAAI,EAAE,KAAK,KAAK;AAC1B,IAAI,KAAK,IAAI,CAAC,GAAG,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;AACrC,MAAM,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;AAC9B,KAAK;AACL,GAAG,CAAC;AACJ,CAAC;AACD;AACO,SAAS,SAAS,CAAC,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE;AAChD,EAAE,MAAM,OAAO,GAAG,MAAM,KAAK,CAAC,IAAI,KAAK,CAAC,OAAO,EAAE,IAAI,KAAK;AAC1D,kBAAkB,CAAC,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;AAC5D;AACA,EAAE,OAAO,CAAC,MAAM,EAAE,KAAK,KAAK;AAC5B,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;AACf,IAAI,OAAO,IAAI,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC;AACvC,QAAQ,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;AAClC,QAAQ,KAAK,CAAC,IAAI;AAClB,UAAU,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC;AAC5C,UAAU,IAAI,EAAE,KAAK,EAAE,MAAM;AAC7B,SAAS,CAAC;AACV,GAAG,CAAC;AACJ;;;;","x_google_ignoreList":[0]}
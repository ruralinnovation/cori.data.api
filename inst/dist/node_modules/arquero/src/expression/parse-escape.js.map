{"version":3,"file":"parse-escape.js","sources":["../../../../../../node_modules/arquero/src/expression/parse-escape.js"],"sourcesContent":["import compile from './compile';\nimport { rowObjectCode } from './row-object';\nimport error from '../util/error';\nimport toFunction from '../util/to-function';\n\nconst ERROR_ESC_AGGRONLY = 'Escaped functions are not valid as rollup or pivot values.';\n\nexport default function(ctx, spec, params) {\n  if (ctx.aggronly) error(ERROR_ESC_AGGRONLY);\n\n  // generate escaped function invocation code\n  const code = '(row,data)=>fn('\n    + rowObjectCode(ctx.table.columnNames())\n    + ',$)';\n\n  return { escape: compile.escape(code, toFunction(spec.expr), params) };\n}"],"names":[],"mappings":";;;;;;;;;;;AAKA,MAAM,kBAAkB,GAAG,4DAA4D,CAAC;AACxF;AACe,oBAAQ,CAAC,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE;AAC3C,EAAE,IAAI,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,kBAAkB,CAAC,CAAC;AAC9C;AACA;AACA,EAAE,MAAM,IAAI,GAAG,iBAAiB;AAChC,MAAM,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;AAC5C,MAAM,KAAK,CAAC;AACZ;AACA,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,MAAM,CAAC,EAAE,CAAC;AACzE;;;;","x_google_ignoreList":[0]}
{"version":3,"file":"cori.data.api250.js","sources":["../../node_modules/property-information/lib/find.js"],"sourcesContent":["/**\n * @typedef {import('./util/schema.js').Schema} Schema\n */\n\nimport {normalize} from './normalize.js'\nimport {DefinedInfo} from './util/defined-info.js'\nimport {Info} from './util/info.js'\n\nconst valid = /^data[-\\w.:]+$/i\nconst dash = /-[a-z]/g\nconst cap = /[A-Z]/g\n\n/**\n * @param {Schema} schema\n * @param {string} value\n * @returns {Info}\n */\nexport function find(schema, value) {\n  const normal = normalize(value)\n  let prop = value\n  let Type = Info\n\n  if (normal in schema.normal) {\n    return schema.property[schema.normal[normal]]\n  }\n\n  if (normal.length > 4 && normal.slice(0, 4) === 'data' && valid.test(value)) {\n    // Attribute or property.\n    if (value.charAt(4) === '-') {\n      // Turn it into a property.\n      const rest = value.slice(5).replace(dash, camelcase)\n      prop = 'data' + rest.charAt(0).toUpperCase() + rest.slice(1)\n    } else {\n      // Turn it into an attribute.\n      const rest = value.slice(4)\n\n      if (!dash.test(rest)) {\n        let dashes = rest.replace(cap, kebab)\n\n        if (dashes.charAt(0) !== '-') {\n          dashes = '-' + dashes\n        }\n\n        value = 'data' + dashes\n      }\n    }\n\n    Type = DefinedInfo\n  }\n\n  return new Type(prop, value)\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction kebab($0) {\n  return '-' + $0.toLowerCase()\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction camelcase($0) {\n  return $0.charAt(1).toUpperCase()\n}\n"],"names":["valid","dash","cap","find","schema","value","normal","normalize","prop","Type","Info","rest","camelcase","dashes","kebab","DefinedInfo","$0"],"mappings":";;;;;;;;;AAQA,MAAMA,IAAQ,mBACRC,IAAO,WACPC,IAAM;AAOL,SAASC,EAAKC,GAAQC,GAAO;AAClC,QAAMC,IAASC,EAAUF,CAAK;AAC9B,MAAIG,IAAOH,GACPI,IAAOC;AAEX,MAAIJ,KAAUF,EAAO;AACnB,WAAOA,EAAO,SAASA,EAAO,OAAOE,CAAM,CAAC;AAG9C,MAAIA,EAAO,SAAS,KAAKA,EAAO,MAAM,GAAG,CAAC,MAAM,UAAUN,EAAM,KAAKK,CAAK,GAAG;AAE3E,QAAIA,EAAM,OAAO,CAAC,MAAM,KAAK;AAE3B,YAAMM,IAAON,EAAM,MAAM,CAAC,EAAE,QAAQJ,GAAMW,CAAS;AACnD,MAAAJ,IAAO,SAASG,EAAK,OAAO,CAAC,EAAE,gBAAgBA,EAAK,MAAM,CAAC;AAAA,IACjE,OAAW;AAEL,YAAMA,IAAON,EAAM,MAAM,CAAC;AAE1B,UAAI,CAACJ,EAAK,KAAKU,CAAI,GAAG;AACpB,YAAIE,IAASF,EAAK,QAAQT,GAAKY,CAAK;AAEpC,QAAID,EAAO,OAAO,CAAC,MAAM,QACvBA,IAAS,MAAMA,IAGjBR,IAAQ,SAASQ;AAAA,MAClB;AAAA,IACF;AAED,IAAAJ,IAAOM;AAAA,EACR;AAED,SAAO,IAAIN,EAAKD,GAAMH,CAAK;AAC7B;AAMA,SAASS,EAAME,GAAI;AACjB,SAAO,MAAMA,EAAG,YAAa;AAC/B;AAMA,SAASJ,EAAUI,GAAI;AACrB,SAAOA,EAAG,OAAO,CAAC,EAAE,YAAa;AACnC;","x_google_ignoreList":[0]}
{"version":3,"file":"cori.data.api32.js","sources":["../../node_modules/arquero/src/arrow/builder/util.js"],"sourcesContent":["import { Data, Vector } from 'apache-arrow';\n\nexport function ceil64Bytes(length, bpe = 1) {\n  return ((((length * bpe) + 63) & ~63) || 64) / bpe;\n}\n\nexport function array(Type, length, bpe = Type.BYTES_PER_ELEMENT) {\n  return new Type(ceil64Bytes(length, bpe));\n}\n\nexport function arrowData(d) {\n  return d instanceof Data\n    ? d\n    : new Data(d.type, 0, d.length, d.nulls, d.buffers, null, d.dict);\n}\n\nexport function arrowVector(data) {\n  return new Vector([arrowData(data)]);\n}\n\nexport const encoder = new TextEncoder();\n\nexport function encode(data, idx, str) {\n  const bytes = encoder.encode(str);\n  data.set(bytes, idx);\n  return bytes.length;\n}\n\nexport function encodeInto(data, idx, str) {\n  return encoder.encodeInto(str, data.subarray(idx)).written;\n}\n\nexport const writeUtf8 = encoder.encodeInto ? encodeInto : encode;"],"names":["ceil64Bytes","length","bpe","array","Type","arrowData","d","Data","arrowVector","data","Vector","encoder","encode","idx","str","bytes","encodeInto","writeUtf8"],"mappings":";;;;;;;;AAEO,SAASA,EAAYC,GAAQC,IAAM,GAAG;AAC3C,UAAWD,IAASC,IAAO,KAAM,OAAQ,MAAMA;AACjD;AAEO,SAASC,EAAMC,GAAMH,GAAQC,IAAME,EAAK,mBAAmB;AAChE,SAAO,IAAIA,EAAKJ,EAAYC,GAAQC,CAAG,CAAC;AAC1C;AAEO,SAASG,EAAUC,GAAG;AAC3B,SAAOA,aAAaC,IAChBD,IACA,IAAIC,EAAKD,EAAE,MAAM,GAAGA,EAAE,QAAQA,EAAE,OAAOA,EAAE,SAAS,MAAMA,EAAE,IAAI;AACpE;AAEO,SAASE,EAAYC,GAAM;AAChC,SAAO,IAAIC,EAAO,CAACL,EAAUI,CAAI,CAAC,CAAC;AACrC;AAEY,MAACE,IAAU,IAAI,YAAc;AAElC,SAASC,EAAOH,GAAMI,GAAKC,GAAK;AACrC,QAAMC,IAAQJ,EAAQ,OAAOG,CAAG;AAChC,SAAAL,EAAK,IAAIM,GAAOF,CAAG,GACZE,EAAM;AACf;AAEO,SAASC,EAAWP,GAAMI,GAAKC,GAAK;AACzC,SAAOH,EAAQ,WAAWG,GAAKL,EAAK,SAASI,CAAG,CAAC,EAAE;AACrD;AAEY,MAACI,IAAYN,EAAQ,aAAaK,IAAaJ;","x_google_ignoreList":[0]}
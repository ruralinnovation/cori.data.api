{"version":3,"file":"data-from.js","sources":["../../../../../../../node_modules/arquero/src/arrow/encode/data-from.js"],"sourcesContent":["import builder from '../builder';\nimport { arrowData, ceil64Bytes } from '../builder/util';\n\nexport function dataFromArray(array, type) {\n  const length = array.length;\n  const size = ceil64Bytes(length, array.BYTES_PER_ELEMENT);\n\n  let data = array;\n  if (length !== size) {\n    data = new array.constructor(size);\n    data.set(array);\n  }\n\n  return arrowData({ type, length, buffers: [null, data] });\n}\n\nexport function dataFromScan(nrows, scan, column, type, nullable = true) {\n  const b = builder(type, nrows, nullable);\n  scan(column, b.set);\n  return arrowData(b.data());\n}"],"names":[],"mappings":";;;;;;;;;AAGO,SAAS,aAAa,CAAC,KAAK,EAAE,IAAI,EAAE;AAC3C,EAAE,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;AAC9B,EAAE,MAAM,IAAI,GAAG,WAAW,CAAC,MAAM,EAAE,KAAK,CAAC,iBAAiB,CAAC,CAAC;AAC5D;AACA,EAAE,IAAI,IAAI,GAAG,KAAK,CAAC;AACnB,EAAE,IAAI,MAAM,KAAK,IAAI,EAAE;AACvB,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AACvC,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACpB,GAAG;AACH;AACA,EAAE,OAAO,SAAS,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;AAC5D,CAAC;AACD;AACO,SAAS,YAAY,CAAC,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,GAAG,IAAI,EAAE;AACzE,EAAE,MAAM,CAAC,GAAG,OAAO,CAAC,IAAI,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;AAC3C,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC;AACtB,EAAE,OAAO,SAAS,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;AAC7B;;;;","x_google_ignoreList":[0]}
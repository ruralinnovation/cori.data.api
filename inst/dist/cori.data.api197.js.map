{"version":3,"file":"cori.data.api197.js","sources":["../../node_modules/d3-transition/src/transition/end.js"],"sourcesContent":["import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and weâ€™re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n"],"names":["transition_end","on0","on1","that","id","size","resolve","reject","cancel","end","schedule","set","on"],"mappings":";;;;;;;AAEe,SAAAA,IAAW;AACxB,MAAIC,GAAKC,GAAKC,IAAO,MAAMC,IAAKD,EAAK,KAAKE,IAAOF,EAAK,KAAI;AAC1D,SAAO,IAAI,QAAQ,SAASG,GAASC,GAAQ;AAC3C,QAAIC,IAAS,EAAC,OAAOD,EAAM,GACvBE,IAAM,EAAC,OAAO,WAAW;AAAE,MAAI,EAAEJ,MAAS,KAAGC;IAAU,EAAE;AAE7D,IAAAH,EAAK,KAAK,WAAW;AACnB,UAAIO,IAAWC,EAAI,MAAMP,CAAE,GACvBQ,IAAKF,EAAS;AAKlB,MAAIE,MAAOX,MACTC,KAAOD,IAAMW,GAAI,KAAI,GACrBV,EAAI,EAAE,OAAO,KAAKM,CAAM,GACxBN,EAAI,EAAE,UAAU,KAAKM,CAAM,GAC3BN,EAAI,EAAE,IAAI,KAAKO,CAAG,IAGpBC,EAAS,KAAKR;AAAA,IACpB,CAAK,GAGGG,MAAS,KAAGC;EACpB,CAAG;AACH;","x_google_ignoreList":[0]}
/*
 * CORI Data API component library
 * {@link https://github.com/ruralinnovation/cori.data.api}
 * @copyright Rural Innovation Strategies, Inc.
 * @license ISC
 */
import functions from '../op/functions/index.js';

function compile(code, fn, params) {
  code = `"use strict"; return ${code};`;
  return (Function('fn', '$', code))(fn, params);
}

var compile$1 = {
  escape: (code, func, params) => compile(code, func, params),
  expr:   (code, params) => compile(`(row,data,op)=>${code}`, functions, params),
  expr2:  (code, params) => compile(`(row0,data0,row,data)=>${code}`, functions, params),
  join:   (code, params) => compile(`(row1,data1,row2,data2)=>${code}`, functions, params),
  param:  (code, params) => compile(code, functions, params)
};

export { compile$1 as default };
//# sourceMappingURL=compile.js.map

/*
 * CORI Data API component library
 * {@link https://github.com/ruralinnovation/cori.data.api}
 * @copyright Rural Innovation Strategies, Inc.
 * @license ISC
 */
import __relocate from './relocate.js';
import _derive from '../engine/derive.js';
import parse from '../expression/parse.js';

function __derive(table, values, options = {}) {
  const dt = _derive(table, parse(values, { table }), options);

  return options.drop || (options.before == null && options.after == null)
    ? dt
    : __relocate(dt,
        Object.keys(values).filter(name => !table.column(name)),
        options
      );
}

export { __derive as default };
//# sourceMappingURL=derive.js.map

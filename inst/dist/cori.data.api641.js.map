{"version":3,"file":"cori.data.api641.js","sources":["../../node_modules/arquero/src/arrow/builder/utf8-builder.js"],"sourcesContent":["import { array, ceil64Bytes, writeUtf8 } from './util';\n\nexport default function(type, length, strlen) {\n  const offset = array(Int32Array, length + 1);\n  const buf = array(Uint8Array, 3 * strlen);\n\n  let idx = 0;\n\n  return {\n    set(value, index) {\n      idx += writeUtf8(buf, idx, value);\n      offset[index + 1] = idx;\n    },\n    data: () => {\n      // slice utf buffer if over-allocated\n      const dlen = ceil64Bytes(idx);\n      const data = buf.length > dlen ? buf.subarray(0, dlen) : buf;\n      return { type, length, buffers: [offset, data] };\n    }\n  };\n}"],"names":["utf8Builder","type","length","strlen","offset","array","buf","idx","value","index","writeUtf8","dlen","ceil64Bytes","data"],"mappings":";;;;;;;AAEe,SAAAA,EAASC,GAAMC,GAAQC,GAAQ;AAC5C,QAAMC,IAASC,EAAM,YAAYH,IAAS,CAAC,GACrCI,IAAMD,EAAM,YAAY,IAAIF,CAAM;AAExC,MAAII,IAAM;AAEV,SAAO;AAAA,IACL,IAAIC,GAAOC,GAAO;AAChB,MAAAF,KAAOG,EAAUJ,GAAKC,GAAKC,CAAK,GAChCJ,EAAOK,IAAQ,CAAC,IAAIF;AAAA,IACrB;AAAA,IACD,MAAM,MAAM;AAEV,YAAMI,IAAOC,EAAYL,CAAG,GACtBM,IAAOP,EAAI,SAASK,IAAOL,EAAI,SAAS,GAAGK,CAAI,IAAIL;AACzD,aAAO,EAAE,MAAAL,GAAM,QAAAC,GAAQ,SAAS,CAACE,GAAQS,CAAI;IAC9C;AAAA,EACL;AACA;","x_google_ignoreList":[0]}
{"version":3,"file":"cori.data.api317.js","sources":["../../node_modules/mdast-util-to-hast/lib/handlers/list-item.js"],"sourcesContent":["/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').ListItem} ListItem\n * @typedef {import('mdast').Parents} Parents\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `listItem` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {ListItem} node\n *   mdast node.\n * @param {Parents | undefined} parent\n *   Parent of `node`.\n * @returns {Element}\n *   hast node.\n */\nexport function listItem(state, node, parent) {\n  const results = state.all(node)\n  const loose = parent ? listLoose(parent) : listItemLoose(node)\n  /** @type {Properties} */\n  const properties = {}\n  /** @type {Array<ElementContent>} */\n  const children = []\n\n  if (typeof node.checked === 'boolean') {\n    const head = results[0]\n    /** @type {Element} */\n    let paragraph\n\n    if (head && head.type === 'element' && head.tagName === 'p') {\n      paragraph = head\n    } else {\n      paragraph = {type: 'element', tagName: 'p', properties: {}, children: []}\n      results.unshift(paragraph)\n    }\n\n    if (paragraph.children.length > 0) {\n      paragraph.children.unshift({type: 'text', value: ' '})\n    }\n\n    paragraph.children.unshift({\n      type: 'element',\n      tagName: 'input',\n      properties: {type: 'checkbox', checked: node.checked, disabled: true},\n      children: []\n    })\n\n    // According to github-markdown-css, this class hides bullet.\n    // See: <https://github.com/sindresorhus/github-markdown-css>.\n    properties.className = ['task-list-item']\n  }\n\n  let index = -1\n\n  while (++index < results.length) {\n    const child = results[index]\n\n    // Add eols before nodes, except if this is a loose, first paragraph.\n    if (\n      loose ||\n      index !== 0 ||\n      child.type !== 'element' ||\n      child.tagName !== 'p'\n    ) {\n      children.push({type: 'text', value: '\\n'})\n    }\n\n    if (child.type === 'element' && child.tagName === 'p' && !loose) {\n      children.push(...child.children)\n    } else {\n      children.push(child)\n    }\n  }\n\n  const tail = results[results.length - 1]\n\n  // Add a final eol.\n  if (tail && (loose || tail.type !== 'element' || tail.tagName !== 'p')) {\n    children.push({type: 'text', value: '\\n'})\n  }\n\n  /** @type {Element} */\n  const result = {type: 'element', tagName: 'li', properties, children}\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n\n/**\n * @param {Parents} node\n * @return {Boolean}\n */\nfunction listLoose(node) {\n  let loose = false\n  if (node.type === 'list') {\n    loose = node.spread || false\n    const children = node.children\n    let index = -1\n\n    while (!loose && ++index < children.length) {\n      loose = listItemLoose(children[index])\n    }\n  }\n\n  return loose\n}\n\n/**\n * @param {ListItem} node\n * @return {Boolean}\n */\nfunction listItemLoose(node) {\n  const spread = node.spread\n\n  return spread === null || spread === undefined\n    ? node.children.length > 1\n    : spread\n}\n"],"names":["listItem","state","node","parent","results","loose","listLoose","listItemLoose","properties","children","head","paragraph","index","child","tail","result","spread"],"mappings":";;;;;;AAwBO,SAASA,EAASC,GAAOC,GAAMC,GAAQ;AAC5C,QAAMC,IAAUH,EAAM,IAAIC,CAAI,GACxBG,IAAQF,IAASG,EAAUH,CAAM,IAAII,EAAcL,CAAI,GAEvDM,IAAa,CAAE,GAEfC,IAAW,CAAE;AAEnB,MAAI,OAAOP,EAAK,WAAY,WAAW;AACrC,UAAMQ,IAAON,EAAQ,CAAC;AAEtB,QAAIO;AAEJ,IAAID,KAAQA,EAAK,SAAS,aAAaA,EAAK,YAAY,MACtDC,IAAYD,KAEZC,IAAY,EAAC,MAAM,WAAW,SAAS,KAAK,YAAY,CAAA,GAAI,UAAU,GAAE,GACxEP,EAAQ,QAAQO,CAAS,IAGvBA,EAAU,SAAS,SAAS,KAC9BA,EAAU,SAAS,QAAQ,EAAC,MAAM,QAAQ,OAAO,IAAG,CAAC,GAGvDA,EAAU,SAAS,QAAQ;AAAA,MACzB,MAAM;AAAA,MACN,SAAS;AAAA,MACT,YAAY,EAAC,MAAM,YAAY,SAAST,EAAK,SAAS,UAAU,GAAI;AAAA,MACpE,UAAU,CAAE;AAAA,IAClB,CAAK,GAIDM,EAAW,YAAY,CAAC,gBAAgB;AAAA,EACzC;AAED,MAAII,IAAQ;AAEZ,SAAO,EAAEA,IAAQR,EAAQ,UAAQ;AAC/B,UAAMS,IAAQT,EAAQQ,CAAK;AAG3B,KACEP,KACAO,MAAU,KACVC,EAAM,SAAS,aACfA,EAAM,YAAY,QAElBJ,EAAS,KAAK,EAAC,MAAM,QAAQ,OAAO;AAAA,EAAI,CAAC,GAGvCI,EAAM,SAAS,aAAaA,EAAM,YAAY,OAAO,CAACR,IACxDI,EAAS,KAAK,GAAGI,EAAM,QAAQ,IAE/BJ,EAAS,KAAKI,CAAK;AAAA,EAEtB;AAED,QAAMC,IAAOV,EAAQA,EAAQ,SAAS,CAAC;AAGvC,EAAIU,MAAST,KAASS,EAAK,SAAS,aAAaA,EAAK,YAAY,QAChEL,EAAS,KAAK,EAAC,MAAM,QAAQ,OAAO;AAAA,EAAI,CAAC;AAI3C,QAAMM,IAAS,EAAC,MAAM,WAAW,SAAS,MAAM,YAAAP,GAAY,UAAAC,EAAQ;AACpE,SAAAR,EAAM,MAAMC,GAAMa,CAAM,GACjBd,EAAM,UAAUC,GAAMa,CAAM;AACrC;AAMA,SAAST,EAAUJ,GAAM;AACvB,MAAIG,IAAQ;AACZ,MAAIH,EAAK,SAAS,QAAQ;AACxB,IAAAG,IAAQH,EAAK,UAAU;AACvB,UAAMO,IAAWP,EAAK;AACtB,QAAIU,IAAQ;AAEZ,WAAO,CAACP,KAAS,EAAEO,IAAQH,EAAS;AAClC,MAAAJ,IAAQE,EAAcE,EAASG,CAAK,CAAC;AAAA,EAExC;AAED,SAAOP;AACT;AAMA,SAASE,EAAcL,GAAM;AAC3B,QAAMc,IAASd,EAAK;AAEpB,SAAOc,KACHd,EAAK,SAAS,SAAS;AAE7B;","x_google_ignoreList":[0]}
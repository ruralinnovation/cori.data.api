{"version":3,"file":"cori.data.api525.js","sources":["../../node_modules/arquero/src/engine/fold.js"],"sourcesContent":["import unroll from './unroll';\nimport { aggregateGet } from './reduce/util';\n\nexport default function(table, { names = [], exprs = [], ops = [] }, options = {}) {\n  if (names.length === 0) return table;\n\n  const [k = 'key', v = 'value'] = options.as || [];\n  const vals = aggregateGet(table, ops, exprs);\n\n  return unroll(\n    table,\n    {\n      names: [k, v],\n      exprs: [() => names, (row, data) => vals.map(fn => fn(row, data))]\n    },\n    { ...options, drop: names }\n  );\n}"],"names":["_fold","table","names","exprs","ops","options","k","v","vals","aggregateGet","unroll","row","data","fn"],"mappings":";;;;;;;;AAGe,SAAQA,EAACC,GAAO,EAAE,OAAAC,IAAQ,CAAA,GAAI,OAAAC,IAAQ,IAAI,KAAAC,IAAM,CAAE,EAAA,GAAIC,IAAU,IAAI;AACjF,MAAIH,EAAM,WAAW;AAAG,WAAOD;AAE/B,QAAM,CAACK,IAAI,OAAOC,IAAI,OAAO,IAAIF,EAAQ,MAAM,IACzCG,IAAOC,EAAaR,GAAOG,GAAKD,CAAK;AAE3C,SAAOO;AAAAA,IACLT;AAAA,IACA;AAAA,MACE,OAAO,CAACK,GAAGC,CAAC;AAAA,MACZ,OAAO,CAAC,MAAML,GAAO,CAACS,GAAKC,MAASJ,EAAK,IAAI,CAAAK,MAAMA,EAAGF,GAAKC,CAAI,CAAC,CAAC;AAAA,IAClE;AAAA,IACD,EAAE,GAAGP,GAAS,MAAMH,EAAO;AAAA,EAC/B;AACA;","x_google_ignoreList":[0]}